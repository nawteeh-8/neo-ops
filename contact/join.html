<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title data-en="Join Us - OPS • Chattia" data-es="Únete - OPS • Chattia">Join Us - OPS • Chattia</title>
<style>
  :root {
    --clr-primary: #00c4ff;
    --clr-accent: #ff3bdb;
    --clr-accent-dark: #e000be;
    --clr-bg: #fff;
    --clr-tx: #333;
    --gap: 10px;
  }
  * {
    box-sizing: border-box;
  }
  body {
    font-family: 'Segoe UI', Arial, sans-serif;
    background: var(--clr-bg);
    color: var(--clr-tx);
    margin: 0; padding: 1rem;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }
  h1 {
    text-align: center;
    margin-bottom: 1rem;
    color: var(--clr-primary);
  }
  form {
    background: #f9f9fd;
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid #ccc;
  }
  label {
    display: block;
    margin-top: 1rem;
    font-weight: 600;
  }
  input, select, textarea {
    width: 100%;
    padding: 0.6rem;
    border-radius: 6px;
    border: 1px solid #ccc;
    font-size: 1rem;
    margin-top: 0.25rem;
  }
  textarea { resize: vertical; }
  .form-pairs {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem 2rem;
  }
  @media (max-width: 600px) {
    .form-pairs {
      grid-template-columns: 1fr;
    }
  }
  .form-section {
    border: 1px dashed #ccc;
    border-radius: 8px;
    background: #fff;
    padding: 1rem;
    margin-top: 1.5rem;
  }
  .section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .circle-btn {
    width: 28px; height: 28px;
    border-radius: 50%;
    border: none;
    background: var(--clr-primary);
    color: white;
    font-weight: bold;
    font-size: 1.3rem;
    cursor: pointer;
    user-select: none;
    margin-left: 0.3rem;
  }
  .circle-btn.remove {
    background: #dc3545;
  }
  .accept-btn, .edit-btn {
    margin-top: 1rem;
    padding: 0.4rem 1rem;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1rem;
  }
  .accept-btn {
    background: #28a745;
    color: white;
  }
  .edit-btn {
    background: #ffc107;
    color: black;
  }
  .form-section.completed {
    border-color: #28a745;
  }
  .form-section.completed h2::after {
    content: " ✅";
    color: #28a745;
  }
  .modal-footer {
    margin-top: 2rem;
    text-align: center;
  }
  button.submit-btn {
    width: 120px;
    height: 48px;
    background: var(--clr-primary);
    border: none;
    border-radius: 12px;
    color: white;
    font-weight: 600;
    font-size: 1rem;
    cursor: pointer;
    box-shadow: 0 4px 8px #0004;
    transition: background 0.3s;
  }
  button.submit-btn:hover {
    background: var(--clr-accent-dark);
  }
</style>
<title data-en="Join Us Form" data-es="Formulario de Ingreso">Join Us Form</title>
</head>
<body>
  <div id="toggles" style="text-align:right;">
    <button id="btn-lang" aria-label="Toggle language" aria-pressed="false">ES</button>
  </div>
  <h1 data-en="Join Us" data-es="Únete a Nosotros">Join Us</h1>
  <form id="joinForm" autocomplete="off" novalidate>
    <div class="form-pairs">
      <div>
        <label for="name" data-en="Name" data-es="Nombre">Name</label>
        <input id="name" name="name" required placeholder="Enter your name" data-en="Enter your name" data-es="Ingresa tu nombre" />
      </div>
      <div>
        <label for="email" data-en="Email" data-es="Correo electrónico">Email</label>
        <input id="email" type="email" name="email" required placeholder="Enter your email" data-en="Enter your email" data-es="Ingresa tu correo electrónico" />
      </div>
      <div>
        <label for="phone" data-en="Phone" data-es="Teléfono">Phone</label>
        <input id="phone" type="tel" name="phone" required placeholder="Enter your phone" data-en="Enter your phone" data-es="Ingresa tu teléfono" />
      </div>
      <div></div>
    </div>

    <!-- Dynamic Sections -->
    <div class="form-section" data-section="Skills">
      <div class="section-header">
        <h2 data-en="Skills" data-es="Habilidades">Skills</h2>
        <div>
          <button type="button" class="circle-btn add" title="Add field" data-en="Add field" data-es="Agregar campo">+</button>
          <button type="button" class="circle-btn remove" title="Remove last field" data-en="Remove last field" data-es="Quitar último campo">−</button>
        </div>
      </div>
      <div class="inputs"></div>
      <button type="button" class="accept-btn" data-en="Accept" data-es="Aceptar">Accept</button>
      <button type="button" class="edit-btn" style="display:none;" data-en="Edit" data-es="Editar">Edit</button>
    </div>

    <div class="form-section" data-section="Education">
      <div class="section-header">
        <h2 data-en="Education" data-es="Educación">Education</h2>
        <div>
          <button type="button" class="circle-btn add" title="Add field" data-en="Add field" data-es="Agregar campo">+</button>
          <button type="button" class="circle-btn remove" title="Remove last field" data-en="Remove last field" data-es="Quitar último campo">−</button>
        </div>
      </div>
      <div class="inputs"></div>
      <button type="button" class="accept-btn" data-en="Accept" data-es="Aceptar">Accept</button>
      <button type="button" class="edit-btn" style="display:none;" data-en="Edit" data-es="Editar">Edit</button>
    </div>

    <div class="form-section" data-section="Certification">
      <div class="section-header">
        <h2 data-en="Certification" data-es="Certificación">Certification</h2>
        <div>
          <button type="button" class="circle-btn add" title="Add field" data-en="Add field" data-es="Agregar campo">+</button>
          <button type="button" class="circle-btn remove" title="Remove last field" data-en="Remove last field" data-es="Quitar último campo">−</button>
        </div>
      </div>
      <div class="inputs"></div>
      <button type="button" class="accept-btn" data-en="Accept" data-es="Aceptar">Accept</button>
      <button type="button" class="edit-btn" style="display:none;" data-en="Edit" data-es="Editar">Edit</button>
    </div>

    <div class="form-section" data-section="Hobbies">
      <div class="section-header">
        <h2 data-en="Hobbies" data-es="Pasatiempos">Hobbies</h2>
        <div>
          <button type="button" class="circle-btn add" title="Add field" data-en="Add field" data-es="Agregar campo">+</button>
          <button type="button" class="circle-btn remove" title="Remove last field" data-en="Remove last field" data-es="Quitar último campo">−</button>
        </div>
      </div>
      <div class="inputs"></div>
      <button type="button" class="accept-btn" data-en="Accept" data-es="Aceptar">Accept</button>
      <button type="button" class="edit-btn" style="display:none;" data-en="Edit" data-es="Editar">Edit</button>
    </div>

    <div class="form-section">
      <h2 data-en="What are you interested about?" data-es="¿En qué estás interesado?">What are you interested about?</h2>
      <select id="jn-interest" required>
        <option value="" disabled selected data-en="Select an option" data-es="Selecciona una opción">Select an option</option>
        <option data-en="Business Operations" data-es="Operaciones Empresariales">Business Operations</option>
        <option data-en="Contact Center" data-es="Centro de Contacto">Contact Center</option>
        <option data-en="IT Support" data-es="Soporte IT">IT Support</option>
        <option data-en="Professionals" data-es="Profesionales">Professionals</option>
      </select>
    </div>

    <div class="form-section">
      <h2 data-en="Continued Education" data-es="Educación Continua">Continued Education</h2>
      <div class="inputs"></div>
      <button type="button" class="circle-btn add" title="Add field" data-en="Add field" data-es="Agregar campo">+</button>
    </div>

    <div class="form-section">
      <h2 data-en="Experience" data-es="Experiencia">Experience</h2>
      <div class="inputs"></div>
      <button type="button" class="circle-btn add" title="Add field" data-en="Add field" data-es="Agregar campo">+</button>
    </div>

    <div>
      <label for="about" data-en="Tell us about yourself" data-es="Cuéntanos sobre ti">Tell us about yourself</label>
      <textarea id="about" rows="4" placeholder="Tell us about yourself..." data-en="Tell us about yourself..." data-es="Cuéntanos sobre ti..."></textarea>
    </div>

    <div class="modal-footer">
      <button type="submit" class="submit-btn" data-en="Submit" data-es="Enviar">Submit</button>
    </div>
  </form>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Helper: Toggle accept/edit states on dynamic sections
    function toggleSectionState(section, accepted) {
      const inputs = section.querySelectorAll('input[type=text]');
      const acceptBtn = section.querySelector('.accept-btn');
      const editBtn = section.querySelector('.edit-btn');
      const addBtn = section.querySelector('.circle-btn.add');
      const removeBtn = section.querySelector('.circle-btn.remove');

      if (accepted) {
        // Lock inputs
        inputs.forEach(input => input.disabled = true);
        // Show edit, hide accept
        if (acceptBtn) acceptBtn.style.display = 'none';
        if (editBtn) editBtn.style.display = 'inline-block';
        // Disable add/remove while accepted
        if (addBtn) addBtn.disabled = true;
        if (removeBtn) removeBtn.disabled = true;
        section.classList.add('completed');
      } else {
        // Unlock inputs
        inputs.forEach(input => input.disabled = false);
        // Show accept, hide edit
        if (acceptBtn) acceptBtn.style.display = 'inline-block';
        if (editBtn) editBtn.style.display = 'none';
        // Enable add/remove
        if (addBtn) addBtn.disabled = false;
        if (removeBtn) removeBtn.disabled = false;
        section.classList.remove('completed');
      }
    }

    const formSections = document.querySelectorAll('.form-section');

    formSections.forEach(section => {
      const addBtn = section.querySelector('.circle-btn.add');
      const removeBtn = section.querySelector('.circle-btn.remove');
      const acceptBtn = section.querySelector('.accept-btn');
      const editBtn = section.querySelector('.edit-btn');
      const inputsContainer = section.querySelector('.inputs');

      if (addBtn) {
        addBtn.addEventListener('click', () => {
          const input = document.createElement('input');
          input.type = 'text';
          input.placeholder = `Enter ${section.querySelector('h2').textContent}`;
          inputsContainer.appendChild(input);
          input.focus();
        });
      }

      if (removeBtn) {
        removeBtn.addEventListener('click', () => {
          // Only remove if not accepted (inputs enabled)
          if (!inputsContainer.querySelector('input[disabled]')) {
            if (inputsContainer.lastElementChild) {
              inputsContainer.removeChild(inputsContainer.lastElementChild);
            }
          }
        });
      }

      if (acceptBtn) {
        acceptBtn.addEventListener('click', () => {
          const inputs = inputsContainer.querySelectorAll('input[type=text]');
          if (inputs.length === 0) {
            alert('Add at least one entry.');
            return;
          }
          // Validate no empty inputs
          for (const input of inputs) {
            if (!input.value.trim()) {
              alert('Please fill out all fields before accepting.');
              return;
            }
          }
          toggleSectionState(section, true);
        });
      }

      if (editBtn) {
        editBtn.addEventListener('click', () => {
          toggleSectionState(section, false);
        });
      }
    });

    // Submit handler (demo)
    const joinForm = document.getElementById('joinForm');
    joinForm.addEventListener('submit', e => {
      e.preventDefault();

      // Optional: validate dynamic sections are accepted or empty
      for (const section of formSections) {
        const inputs = section.querySelectorAll('input[type=text]');
        if (inputs.length > 0 && !section.classList.contains('completed')) {
          alert(`Please accept your entries in "${section.querySelector('h2').textContent}" or remove them.`);
          return;
        }
      }

      alert('Join form submitted successfully!');
      joinForm.reset();

      // Reset all sections to initial state
      formSections.forEach(section => {
        toggleSectionState(section, false);
        const inputsContainer = section.querySelector('.inputs');
        inputsContainer.innerHTML = '';
      });
    });
  });
</script>
<script src="../js/langtoggle.js"></script>
</body>
</html>
